<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Relatório 1 — Equipe RoadWatch</title>
<style>
  :root{
    --vinho:#751a32;
    --fundo-pagina:#eebbbb;
    --cinza:#e5e5e7;
    --texto:#222;
  }
  html,body{
    margin:0;
    padding:0;
    background:var(--fundo-pagina);
    color:var(--texto);
    font-family:Arial, Helvetica, sans-serif;
  }
  .hero{
    background:var(--vinho);
    color:#fff;
    text-align:center;
    padding:48px 16px 36px;
  }
  .hero h1{margin:0 0 8px;font-size:36px;}
  .hero h2{margin:6px 0 16px;font-size:22px;font-weight:700;}
  .hero .nomes{max-width:980px;margin:0 auto;opacity:.95;}
  .container{
    max-width:980px;
    margin:28px auto 48px;
    padding:0 16px;
  }
  details{
    background:#fff;
    border-radius:6px;
    margin:8px 0;
    border:1px solid #ddd;
    overflow:hidden;
  }
  summary{
    list-style:none;
    cursor:pointer;
    padding:12px 14px;
    font-weight:700;
    background:#fff;
    color:var(--texto);
    display:flex; align-items:center; gap:8px;
    user-select:none;
  }
  summary::before{content:"►";font-weight:900;color:var(--texto);}
  details[open] summary::before{content:"▼";}
  .content{
    padding:12px 14px 14px;
    line-height:1.6;
    background:#fff;
    color:var(--texto);
    border-top:1px solid #eee;
  }
  .card{background:#fff;border:1px solid #eee;border-radius:6px;padding:12px 14px;margin:10px 0}
  .footer{
    background:var(--cinza);
    color:#111;
    text-align:center;
    padding:18px 12px;
    font-size:14px;
  }
  summary:focus{outline:3px solid #00000022;outline-offset:2px;}
</style>
</head>
<body>

  <!-- Cabeçalho no mesmo estilo do exemplo -->
  <header class="hero">
    <h1>Processamento de Vídeo</h1>
    <h2>Equipe RoadWatch</h2>
    <div class="nomes">
      Fernanda Ayumi Kuroiwa — Gabriel Henrique Pensado Rothen — Ingrid Mara Xavier
    </div>
  </header>

  <div class="container">
    <!-- Relatório 1 com a mesma formatação (details/summary + blocos) -->
    <details open>
      <summary>Relatório 1</summary>
      <div class="content">
        <div class="card">
          <h3>1. Introdução</h3>
          <div style="font-family: Arial, sans-serif; line-height: 1.5; text-align: justify;">
          <p> O presente Relatório 1 documenta as atividades iniciais da disciplina ESZI032 – Processamento de Vídeo, cujo objetivo é iniciar o uso do OpenCV, compreender os comandos básicos para visualizar e gravar imagens e vídeos e produzir um primeiro vídeo demonstrativo a ser inserido no relatório. As tarefas foram organizadas em três partes: preparação do ambiente e execução guiada (Parte 1), estudo e adaptação de operações básicas em imagens e vídeos (Parte 2) e obtenção de material próprio com webcam (Parte 3), conforme roteiro do Laboratório 1 – Captura de Imagem e Vídeo (2025.3).</p>
          <p>Na Parte 1, foi configurado o ambiente seguindo as instruções disponibilizadas no Moodle. Na Parte 2, estudamos exemplos de leitura, exibição e gravação de imagens (incluindo a adaptação do tutorial para a imagem messi5.jpg e salvamento em .png) e de leitura/gravação de vídeos (execução dos cinco programas indicados e adaptação para o arquivo big_buck_bunny.mp4), descrevendo a função de cada programa e seu uso em processamento de vídeo. Por fim, na Parte 3, produzimos materiais próprios: uma foto do grupo (com roupas destacando as cores RGB), uma montagem de “avatares” e quatro vídeos de teste (movimentos lentos/rápidos com pessoas e com objeto), que servirão de base para análises futuras e evolução do projeto.</p>

<p>Além de cumprir os objetivos imediatos do laboratório, este relatório busca tornar-se uma referência prática para a equipe RoadWatch sobre a programação de entrada e saída com câmeras, bem como o manuseio de arquivos de imagem e vídeo, estabelecendo um padrão de organização e clareza que será reaproveitado nas próximas etapas.</p>
          </div>

  
  <div class="card">
  <h3>2. Fundamentos Básicos</h3>

  <h4>2.1. Imagem digital e representação em memória</h4>
  <p>Uma imagem digital é uma matriz <em>H × W</em> de pixels com <em>C</em> canais (por exemplo, 3 para imagens coloridas). No OpenCV (C++), a estrutura mais usada é <code>cv::Mat</code>, com valores normalmente inteiros de 8 bits por canal (0–255) em imagens usuais.</p>

  <h4>2.2. Operações básicas em imagens (E/S)</h4>
  <ul>
    <li><strong>Leitura</strong> (entrada): carregar arquivo de imagem com <code>cv::imread()</code>.</li>
    <li><strong>Exibição</strong>: mostrar a imagem com <code>cv::imshow()</code> e aguardar tecla com <code>cv::waitKey()</code>.</li>
    <li><strong>Gravação</strong> (saída): salvar em outro formato com <code>cv::imwrite()</code> (por exemplo, PNG).</li>
  </ul>
  <p>Essas três operações consolidam o fluxo de entrada/saída e permitem conversão simples de formatos.</p>

  <h4>2.3. Vídeo: frames, FPS, resolução, codec e contêiner</h4>
  <ul>
    <li><strong>Frame</strong>: cada imagem individual da sequência do vídeo.</li>
    <li><strong>FPS</strong>: quadros por segundo; influencia a fluidez visual.</li>
    <li><strong>Resolução</strong>: largura × altura; afeta nitidez e tamanho do arquivo.</li>
    <li><strong>Codec/Contêiner</strong>: compressão e empacotamento (ex.: MP4/<code>mp4v</code>).</li>
  </ul>
  <p>Na prática, usamos <code>cv::VideoCapture</code> para leitura e <code>cv::VideoWriter</code> para gravação, ajustando FPS, resolução e codec conforme o objetivo.</p>

  <h4>2.4. Captura com webcam (dispositivos de vídeo)</h4>
  <ol>
    <li>Abrir o dispositivo: <code>cv::VideoCapture(0)</code> (ou outro índice/caminho).</li>
    <li>Ler frames em laço; opcionalmente exibir e/ou gravar.</li>
    <li>Finalizar liberando recursos (fechar janelas e <code>release()</code>).</li>
  </ol>
  <p>Condições como iluminação e velocidade de movimento influenciam nitidez, desfoque e taxa de compressão.</p>

  <h4>2.5. Organização dos exemplos e referencial de estudo</h4>
  <p>Para cada programa executado, descreva o que ele faz, os parâmetros usados (caminhos, FPS, resolução, codec) e como pode ser reutilizado no projeto. Essa documentação vira um guia rápido para as próximas etapas.</p>

  <h4>2.6. Conexão com os objetivos do Lab 1</h4>
  <p>Os conceitos acima (E/S de imagens, leitura/gravação de vídeos e captura com webcam) atendem aos objetivos do Laboratório 1 e servem de base para o desenvolvimento do sistema RoadWatch nas etapas seguintes.</p>
</div>

        </div>

<div class="card">
  <h3>3. Materiais e Métodos</h3>

  <h4>3.1. Diagrama de Blocos Funcional</h4>
  <figure>
    <img src="Diagrama_blocos.png"
         alt="Diagrama de blocos do sistema RoadWatch, com captura pela câmera, pré-processamento, detecção de gestos de uso do celular e emissão de alertas."
         style="max-width:100%;height:auto">
    <figcaption>Fluxo funcional do SPV: Captura → Pré-processamento → Detecção → Alerta/Registro.</figcaption>
  </figure>

  <h4>3.2. Ambiente de Experimentos</h4>
  <ul>
    <li><strong>Sistema Operacional:</strong> Ubuntu 22.04 LTS (64-bit)</li>
    <li><strong>Compilador / Interpretação:</strong> g++ ≥ 11 (C++) ou Python ≥ 3.10</li>
    <li><strong>Bibliotecas:</strong> OpenCV ≥ 4.x (core, imgcodecs, highgui, videoio)</li>
    <li><strong>Hardware:</strong> Webcam USB 720p/1080p; notebook/minipc</li>
    <li><strong>Arquivos de teste (vídeo/imagem):</strong> <code>messi5.jpg</code>, <code>big_buck_bunny.mp4</code></li>
    <li><strong>Ferramentas auxiliares:</strong> Visualizador de imagens, reprodutor de vídeo, terminal</li>
  </ul>

  <h4>3.3. Procedimentos Experimentais</h4>
  <ol>
    <li><strong>Imagem – leitura/exibição/gravação:</strong>
      carregar <code>messi5.jpg</code>, exibir em janela e salvar como <code>saida.png</code> (verificar que o arquivo foi gerado).</li>
    <li><strong>Vídeo – leitura:</strong> abrir <code>big_buck_bunny.mp4</code> com <code>VideoCapture</code>, ler frames em laço e exibir.</li>
    <li><strong>Vídeo – gravação:</strong> gravar um trecho para <code>saida.mp4</code> definindo resolução e FPS (ex.: 640×480 @ 30fps).</li>
    <li><strong>Webcam – captura de foto:</strong> capturar uma imagem do grupo e salvar como <code>foto_grupo.png</code>
      (roupas com cores RGB destacadas).</li>
    <li><strong>Webcam – “avatares”:</strong> montar uma imagem com retratos (avatars) dos integrantes e salvar como <code>avatares.png</code>.</li>
    <li><strong>Webcam – vídeos próprios:</strong> gravar 4 vídeos curtos:
      <ul>
        <li>Pessoa com movimento <em>lento</em> e <em>rápido</em></li>
        <li>Objeto com movimento <em>lento</em> e <em>rápido</em></li>
      </ul>
      Nomear como <code>pessoa_lento.mp4</code>, <code>pessoa_rapido.mp4</code>, <code>objeto_lento.mp4</code>, <code>objeto_rapido.mp4</code>.
    </li>
    <li><strong>Anotações no relatório:</strong> descrever o que cada programa faz, parâmetros usados (FPS, resolução, codec) e observações sobre iluminação, nitidez, desfoque e compressão.</li>
  </ol>

  <h4>3.4. Organização de Arquivos</h4>
  <pre><code>projeto/
├─ imagens/
│  ├─ messi5.jpg
│  ├─ saida.png
│  └─ avatares.png
├─ videos/
│  ├─ big_buck_bunny.mp4
│  ├─ saida.mp4
│  ├─ pessoa_lento.mp4
│  ├─ pessoa_rapido.mp4
│  ├─ objeto_lento.mp4
│  └─ objeto_rapido.mp4
└─ src/
   ├─ img_io.cpp        # leitura/exibição/gravação de imagem
   ├─ video_read.cpp    # leitura de vídeo
   ├─ video_write.cpp   # gravação de vídeo
   └─ webcam_cap.cpp    # captura da webcam
</code></pre>

  <h4>3.5. Parâmetros e Configuração Utilizada</h4>
  <ul>
    <li><strong>Resoluções:</strong> 640×480 e 1280×720</li>
    <li><strong>FPS:</strong> 24 e 30 (comparar fluidez)</li>
    <li><strong>Codec:</strong> <code>mp4v</code> (MP4) para arquivos de saída</li>
    <li><strong>Iluminação:</strong> ambiente interno com luz frontal difusa; repetir com luz lateral</li>
    <li><strong>Duração dos vídeos:</strong> 5–10 s (cada)</li>
  </ul>

  <h4>3.6. Critérios de Validação e Registro</h4>
  <ul>
    <li>Verificar se a <strong>resolução e FPS</strong> do arquivo de saída batem com o solicitado.</li>
    <li>Registrar <strong>observações</strong> de nitidez, ruído, desfoque por movimento e variações de iluminação.</li>
    <li>Inserir no relatório <strong>figuras</strong> (frames representativos) com <strong>legenda acessível</strong> e breve análise.</li>
    <li>Guardar <strong>prints de terminal</strong> com logs de execução e mensagens de erro (se houver).</li>
  </ul>

  <!-- blocos opcionais com trechos didáticos, mantendo simplicidade -->
  <details>
    <summary>Exemplo didático (C++/OpenCV) — imagem</summary>
    <div class="content">
      <pre><code>// g++ img_io.cpp -o img_io `pkg-config --cflags --libs opencv4`
// ./img_io imagens/messi5.jpg imagens/saida.png
#include &lt;opencv2/opencv.hpp&gt;
int main(int argc, char** argv){
  if(argc &lt; 3) return 1;
  cv::Mat img = cv::imread(argv[1]);        // leitura
  if(img.empty()) return 1;
  cv::imshow("Imagem", img);                // exibição
  cv::imwrite(argv[2], img);                // gravação
  cv::waitKey(0);
  return 0;
}
</code></pre>
    </div>
  </details>

  <details>
    <summary>Exemplo didático (C++/OpenCV) — vídeo</summary>
    <div class="content">
      <pre><code>// g++ video_rw.cpp -o video_rw `pkg-config --cflags --libs opencv4`
// ./video_rw videos/big_buck_bunny.mp4 videos/saida.mp4
#include &lt;opencv2/opencv.hpp&gt;
int main(int argc, char** argv){
  if(argc &lt; 3) return 1;
  cv::VideoCapture cap(argv[1]);            // leitura
  if(!cap.isOpened()) return 1;
  int w = (int)cap.get(cv::CAP_PROP_FRAME_WIDTH);
  int h = (int)cap.get(cv::CAP_PROP_FRAME_HEIGHT);
  double fps = cap.get(cv::CAP_PROP_FPS);
  cv::VideoWriter out(argv[2], cv::VideoWriter::fourcc('m','p','4','v'), fps, cv::Size(w,h));
  cv::Mat frame;
  while(cap.read(frame)){
    cv::imshow("Vídeo", frame);             // exibição
    out.write(frame);                       // gravação
    if(cv::waitKey(1) == 27) break;         // ESC para sair
  }
  return 0;
}
</code></pre>
    </div>
  </details>
</div>

        </div>

        <div class="card">
          <h3>4. Resultados e Análises</h3>
          <div style="text-align: center; font-family: Arial, sans-serif;">
  <figure>
    <img src="captura_displayimage.png" 
         alt="Captura de tela no Linux mostrando a execução do programa DisplayImage no terminal. Uma janela chamada 'Display Image' exibe uma foto de um jogador de futebol em uniforme azul e grená do Barcelona, realizando um movimento com a bola em campo." 
         style="max-width: 90%; height: auto; border: 1px solid #ccc; border-radius: 8px;">
    <figcaption style="margin-top: 8px; font-size: 14px; color: #333;">
      Captura de tela do programa <b>DisplayImage</b> em execução no terminal Linux, 
      exibindo uma janela com a imagem de um jogador de futebol em campo. 
      Esse resultado demonstra o correto funcionamento do código para abertura de imagens.
    </figcaption>
  </figure>
</div>

        <div class="card">
          <h3>5. Conclusões</h3>
          <p><!-- síntese do aprendizado, limitações e próximos passos --></p>
        </div>
      </div>
    </details>
  </div>

  <footer class="footer">
    © 2025 — Equipe RoadWatch
  </footer>
</body>
</html>
